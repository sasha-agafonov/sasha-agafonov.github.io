<!DOCTYPE html>

<html>

  <head>
    <title> Sasha Agafonov </title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
      var mode = "crescent.svg";
      var m2 = 1;
    </script>
    <script type="text/javascript" src="dark.js"></script>
  </head>

  <body>
    <div id="nav">
      <button id="hamburger"> 
        <span></span>
        <span></span>
        <span></span>
        <span></span>
      </button>
      <a id="projects" onclick="loadFragment('projects')"> PROJECTS </a>
      <a id="source" target="_blank" rel="noopener noreferrer" ondragstart="return false;" href="https://github.com/sasha-agafonov"> SOURCE </a>
      <a id="about" onclick="loadFragment('about')"> ABOUT </a>
      <button onclick="dark()"> <img src="crescent.svg"> </button>
    </div>
    <div id="content"> </div>
  </body>

  <footer>
    &copy
    <span id="copy"> </span>
    Sasha Agafonov
  </footer>

</html>

<script type="text/javascript">


$(document).ready(function(){
	$('#hamburger').click(function(){
		$(this).toggleClass('open');
	});
});



$(document).ready(function(){
  // init
  $("#content").load("/projects.html");
});

  // copy
  document.getElementById("copy").innerHTML = new Date().getFullYear();

  // dynavbar
  const menu = document.getElementById("nav");

  var target_width = document.getElementById("projects").offsetWidth;
  var target_offset = document.getElementById("projects").offsetLeft;

  menu.style.setProperty("--underline-width", `${target_width}px`);
  menu.style.setProperty("--underline-offset-x", `${target_offset}px`);

  menu.addEventListener("mouseover", (event) => {
    if (event.target.tagName.toLowerCase() === 'a') {
      menu.style.setProperty("--underline-width", `${event.target.offsetWidth}px`);
      menu.style.setProperty("--underline-offset-x", `${event.target.offsetLeft}px`);
      
    }
  });

  menu.addEventListener("click", (event) => {
    if (event.target.tagName.toLowerCase() === 'a' && event.target.id !== 'source') {
      target_width = event.target.offsetWidth;
      target_offset = event.target.offsetLeft;
    }
  });

  menu.addEventListener("mouseleave", () => {
    menu.style.setProperty("--underline-width", `${target_width}px`);
    menu.style.setProperty("--underline-offset-x", `${target_offset}px`);
  });


</script>
